
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Búsqueda Local Solución &#8212; Repositorio Principios de Optimización</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.5f77b4aec8189eecf79907ce328c390d.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/text-align.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="shortcut icon" href="../_static/icon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Matemáticas en MS Office" href="../Guias/MS%20Office/MS%20Office.html" />
    <link rel="prev" title="Búsqueda Local" href="../Enunciados/Busqueda%20Local%20Enunciado.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      <img src="../_static/logo-uniandes.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Repositorio Principios de Optimización</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <p class="caption">
 <span class="caption-text">
  Prácticas de formulación
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Enunciados/Chocolater%C3%ADa%20Enunciado.html">
   Chocolatería
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="Chocolater%C3%ADa.html">
     Chocolatería Solución
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Enunciados/PlaneacionMenus%20Enunciado.html">
   Planeación de menús
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="PlaneacionMenus.html">
     Planeación de menús Solución
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Enunciados/OptiJuice%20Enunciado.html">
   Producción de jugos
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="OptiJuice.html">
     Producción de jugos Solución
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Enunciados/Transporte%20Enunciado.html">
   Transporte de productos lácteos
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="Transporte.html">
     Transporte de productos lácteos Solución
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Transporte-vis.html">
     Transporte de productos lácteos Visualización
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Enunciados/Inventarios%20Enunciado.html">
   Producción de cemento
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="Inventarios.html">
     Producción de cemento Solución
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Inventarios-vis.html">
     Producción de cemento Visualización
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Enunciados/Asignaci%C3%B3n%20Enunciado.html">
   Asignación de tareas
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="Asignaci%C3%B3n.html">
     Asignación de tareas Solución
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Enunciados/ExtraccionMinera%20Enunciado.html">
   Extracción minera
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="ExtraccionMinera.html">
     Extracción minera Solución
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Enunciados/Salsa%20al%20Parque.html">
   Salsa al Parque
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="Salsa%20al%20Parque%20Solucion.html">
     Salsa al Parque Solución
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Salsa%20al%20Parque%20Visualizacion.html">
     Salsa al Parque Visualización
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../Enunciados/Busqueda%20Local%20Enunciado.html">
   Búsqueda Local
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Búsqueda Local Solución
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Guías
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../Guias/MS%20Office/MS%20Office.html">
   Matemáticas en
   <em>
    MS Office
   </em>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Guias/Importacion%20parametros/Importacion%20parametros.html">
   Importación de parámetros desde MS Excel
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Guias/Importacion%20parametros/Importacion%20parametros%20web.html">
   Importación de Parámetros Web
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/Soluciones/Busqueda Local Solución.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/copa-uniandes/optimizacion"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/copa-uniandes/optimizacion/issues/new?title=Issue%20on%20page%20%2FSoluciones/Busqueda Local Solución.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/copa-uniandes/optimizacion/master?urlpath=tree/optimizacion/Soluciones/Busqueda Local Solución.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <button type="button" class="btn btn-secondary topbarbtn"
            onclick="initThebeSBT()" title="Launch Thebe" data-toggle="tooltip" data-placement="left"><i
                class="fas fa-play"></i><span style="margin-left: .4em;">Live Code</span></button>
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#prerrequisitos">
   Prerrequisitos:
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#objetivos">
   Objetivos:
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#implementacion-busqueda-local">
   Implementación búsqueda local
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#argumento-f">
     1. Argumento
     <code class="docutils literal notranslate">
      <span class="pre">
       f
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#argumento-restricciones">
     2. Argumento
     <code class="docutils literal notranslate">
      <span class="pre">
       restricciones
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#argumento-radar">
     3. Argumento
     <code class="docutils literal notranslate">
      <span class="pre">
       radar
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#argumento-x0">
     4. Argumento
     <code class="docutils literal notranslate">
      <span class="pre">
       x0
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#argumento-d">
     5. Argumento
     <code class="docutils literal notranslate">
      <span class="pre">
       d
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#llamar-la-funcion">
     6. Llamar la función
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#representacion-grafica-del-procedimiento">
     7. Representación gráfica del procedimiento
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#modelo-no-lineal">
     8. Modelo no lineal
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ejercicio">
   Ejercicio
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#bono-1">
   Bono 1
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#bono-2">
   Bono 2
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#creditos">
   Créditos
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="busqueda-local-solucion">
<h1>Búsqueda Local Solución<a class="headerlink" href="#busqueda-local-solucion" title="Permalink to this headline">¶</a></h1>
<p><b><i style="font-size:13px">Tags: </i></b><i style="font-size:11px">Búsqueda Local, Heurística, Variable Continua</i></p>
<div class="section" id="prerrequisitos">
<h2>Prerrequisitos:<a class="headerlink" href="#prerrequisitos" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Ver video <a class="reference external" href="https://youtu.be/hj4BCI5GKRg">búsqueda local</a></p></li>
<li><p>Ver video introducción a Python: <a class="reference external" href="https://youtu.be/Su6774vaOLY">funciones</a></p></li>
<li><p>Ver video introducción a Python: <a class="reference external" href="https://youtu.be/rJCF6dkeG5g">estructuras de control</a></p></li>
</ul>
</div>
<div class="section" id="objetivos">
<h2>Objetivos:<a class="headerlink" href="#objetivos" title="Permalink to this headline">¶</a></h2>
<p>Implementar en un algorítmo de búsqueda local.</p>
</div>
<div class="section" id="implementacion-busqueda-local">
<h2>Implementación búsqueda local<a class="headerlink" href="#implementacion-busqueda-local" title="Permalink to this headline">¶</a></h2>
<p>En el script <code class="docutils literal notranslate"><span class="pre">BusquedaLocal.py</span></code> hay una implementación para un algoritmo de búsqueda local. Esta implementación consiste principalmente de una función (<code class="docutils literal notranslate"><span class="pre">busquedaLocal()</span></code>) que realiza la búsqueda local para un problema que le entra por parámetro. Además de esto, a la función también le debemos pasar por parámetro el radar con el que vamos a hacer la búsqueda local, y el punto inicial de la búsqueda. A continuación vamos a ver como funciona esta implementación, y mas detalladamente que es cada uno de los argumentos que le debemos pasar a la función <code class="docutils literal notranslate"><span class="pre">busquedaLocal()</span></code> para haga la búsqueda local correctamente. Lo primero que debemos hacer es importar el script:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">optimizacion.Soluciones.BusquedaLocal</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Nota:</strong> Recuerde, puede usar la función <code class="docutils literal notranslate"><span class="pre">help()</span></code> para consultar la documentación de cada una de las funciones del módulo (<code class="docutils literal notranslate"><span class="pre">help(busquedaLocal)</span></code>).</p>
<p>La función <code class="docutils literal notranslate"><span class="pre">busquedaLocal()</span></code> recibe cinco argumentos:</p>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f</span></code> : Una función de Python que retorna el valor de la función objetivo dado un punto <span class="math notranslate nohighlight">\((x_1,x_2)\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">restricciones</span></code>: Una lista de Python con las restricciones del modelo en un formato específico</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radar</span></code>: Una función de Python que dado un punto <span class="math notranslate nohighlight">\((x_1,x_2)\)</span> y un radio (d), retorna una lista con los puntos en el radar</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x0</span></code>: Una tupla de Python con el punto inicial de la búsqueda</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">d0</span></code>: El radio del radar de búsqueda</p></li>
</ol>
<p>Veamos entonces como construir cada argumento para el problema de la empresa 2Crudos inc. que hemos visto. Recordemos, la formulación del problema es la siguiente:</p>
<div class="math notranslate nohighlight">
\[
\begin{equation}\label{eq:fo}
\min \  20x_1+15x_2
\end{equation}
\]</div>
<p>Sujeto a,</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align}
0.3x_1+0.4x_2&amp;\ge 2000;\label{eq:c1}\\
0.4x_1+0.2x_2&amp;\ge 1500;\label{eq:c2}\\
0.2x_1+0.3x_2&amp;\ge 500;\label{eq:c3}\\
x_1 &amp;\le 9000;\label{eq:c4}\\
x_2&amp;\le 6000;\label{eq:c5}\\
x_1 &amp;\ge 0;\label{eq:c6}\\
x_2&amp;\ge 0.\label{eq:c7}\\
\end{align}
\end{split}\]</div>
<div class="section" id="argumento-f">
<h3>1. Argumento <code class="docutils literal notranslate"><span class="pre">f</span></code><a class="headerlink" href="#argumento-f" title="Permalink to this headline">¶</a></h3>
<p>El argumento <code class="docutils literal notranslate"><span class="pre">f</span></code> es una función de Python que retorna el valor de la función objetivo dado un punto <span class="math notranslate nohighlight">\((x_1,x_2)\)</span>. Es decir debemos declarar una función que dados unos puntos <span class="math notranslate nohighlight">\((x_1,x_2)\)</span>, retorne <span class="math notranslate nohighlight">\(20x_1+15x_2\)</span>. Esto lo hacemos de la siguiente forma:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Función que retorna el valor de la función objetivo, para un punto (x1,x2)</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="n">x2</span><span class="p">):</span>
    <span class="k">return</span> <span class="mi">20</span><span class="o">*</span><span class="n">x1</span><span class="o">+</span><span class="mi">15</span><span class="o">*</span><span class="n">x2</span>
</pre></div>
</div>
</div>
</div>
<p>Veamos que hace la función que definimos:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x1</span><span class="p">,</span><span class="n">x2</span><span class="o">=</span><span class="mi">6000</span><span class="p">,</span><span class="mi">3500</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;El valor de la función objetivo en el punto </span><span class="si">{</span><span class="n">x1</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">x2</span><span class="si">}</span><span class="s2"> es </span><span class="si">{</span><span class="n">f</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="n">x2</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>El valor de la función objetivo en el punto 6000,3500 es 172500
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="argumento-restricciones">
<h3>2. Argumento <code class="docutils literal notranslate"><span class="pre">restricciones</span></code><a class="headerlink" href="#argumento-restricciones" title="Permalink to this headline">¶</a></h3>
<p>El argumento <code class="docutils literal notranslate"><span class="pre">restricciones</span></code> es una lista de Python con las restricciones del modelo. La forma en la que debemos pasar las restricciones del modelo es también como funciones, pero en este caso son funciones que retornan un valor booleano. Es decir retornan <code class="docutils literal notranslate"><span class="pre">True</span></code> si el punto <span class="math notranslate nohighlight">\((x_1,x_2)\)</span> cumple con la restricción, y retornan <code class="docutils literal notranslate"><span class="pre">False</span></code> de lo contrario. Veamos entonces como declarar estas funciones para cada una de las restricciones del modelo:</p>
<p>Consideremos entonces la siguiente restricción:</p>
<div class="math notranslate nohighlight">
\[
\begin{equation*}
0.3x_1+0.4x_2\ge 2000;
\end{equation*}
\]</div>
<p>Para definir una función que, dado un punto <span class="math notranslate nohighlight">\((x_1,x_2)\)</span>, retorna <code class="docutils literal notranslate"><span class="pre">True</span></code> si el punto cumple con la restricción, y <code class="docutils literal notranslate"><span class="pre">False</span></code> de lo contrario hacemos lo siguiente:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">R1</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="n">x2</span><span class="p">):</span>
    <span class="k">return</span> <span class="mf">0.3</span><span class="o">*</span><span class="n">x1</span><span class="o">+</span><span class="mf">0.4</span><span class="o">*</span><span class="n">x2</span><span class="o">&gt;=</span><span class="mi">2000</span>
</pre></div>
</div>
</div>
</div>
<p>Veamos que hace la función que declaramos:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x1</span><span class="p">,</span><span class="n">x2</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span><span class="mi">6000</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;R1(</span><span class="si">{</span><span class="n">x1</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">x2</span><span class="si">}</span><span class="s2">) retorna: </span><span class="si">{</span><span class="n">R1</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="n">x2</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>R1(1000,6000) retorna: True
</pre></div>
</div>
</div>
</div>
<p>De la misma forma definimos una función booleana por cada restricción del modelo de la siguiente forma:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Función booleana para la restricción (3)</span>
<span class="k">def</span> <span class="nf">R2</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="n">x2</span><span class="p">):</span>    
    <span class="k">return</span> <span class="mf">0.4</span><span class="o">*</span><span class="n">x1</span><span class="o">+</span><span class="mf">0.2</span><span class="o">*</span><span class="n">x2</span><span class="o">&gt;=</span><span class="mi">1500</span>

<span class="c1">#Función booleana para la restricción (4)</span>
<span class="k">def</span> <span class="nf">R3</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="n">x2</span><span class="p">):</span>
    <span class="k">return</span> <span class="mf">0.2</span><span class="o">*</span><span class="n">x1</span><span class="o">+</span><span class="mf">0.3</span><span class="o">*</span><span class="n">x2</span><span class="o">&gt;=</span><span class="mi">500</span>

<span class="c1">#Función booleana para la restricción (5)</span>
<span class="k">def</span> <span class="nf">R4</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="n">x2</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x1</span><span class="o">&lt;=</span><span class="mi">9000</span>

<span class="c1">#Función booleana para la restricción (6)</span>
<span class="k">def</span> <span class="nf">R5</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="n">x2</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x2</span><span class="o">&lt;=</span><span class="mi">6000</span>

<span class="c1">#Función booleana para la restricción (7)</span>
<span class="k">def</span> <span class="nf">R6</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="n">x2</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x1</span><span class="o">&gt;=</span><span class="mi">0</span>

<span class="c1">#Función booleana para la restricción (8)</span>
<span class="k">def</span> <span class="nf">R7</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="n">x2</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x2</span><span class="o">&gt;=</span><span class="mi">0</span>
</pre></div>
</div>
</div>
</div>
<p>Ahora, como el argumento <code class="docutils literal notranslate"><span class="pre">restricciones</span></code> es una lista de estas funciones, pues lo único que debemos hacer es almacenar todas estas funciones en una lista de Python. Esto lo hacemos de la siguiente forma:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">restricciones</span><span class="o">=</span><span class="p">[</span><span class="n">R1</span><span class="p">,</span><span class="n">R2</span><span class="p">,</span><span class="n">R3</span><span class="p">,</span><span class="n">R4</span><span class="p">,</span><span class="n">R5</span><span class="p">,</span><span class="n">R6</span><span class="p">,</span><span class="n">R7</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="argumento-radar">
<h3>3. Argumento <code class="docutils literal notranslate"><span class="pre">radar</span></code><a class="headerlink" href="#argumento-radar" title="Permalink to this headline">¶</a></h3>
<p>El argumento <code class="docutils literal notranslate"><span class="pre">radar</span></code> es una función de Python que dado un punto <span class="math notranslate nohighlight">\((x_1,x_2)\)</span> y un radio (<code class="docutils literal notranslate"><span class="pre">d</span></code>), retorna una lista con los puntos en el radar. En el script <code class="docutils literal notranslate"><span class="pre">BusquedaLocal.py</span></code> que importamos al principio del notebook hay una implementación de esta función. En la función <code class="docutils literal notranslate"><span class="pre">miRadar(x,d)</span></code> esta implementada para un radar circular de 8 puntos, como el que se muestra en la siguiente figura.</p>
<p><img alt="miRadar" src="../_images/Radar1.png" /></p>
<p>Veamos entonces la documentación de esta función:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">miRadar</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Help on function miRadar in module BusquedaLocal:

miRadar(x, d, n=8)
    Se usa la ecuación paramétrica del circulo para crear un radar circular. 
    Puede consultar el siguiente link para mas información sobre esta ecuación:
    http://jwilson.coe.uga.edu/EMAT6680Fa05/Schultz/Assignment10/Parametric_Circles#:~:text=In%20parametric%20equations%2C%20each%20variable,0%2C%202*pi%5D).&amp;text=At%20t%3D0%2C%20x%20%3D,or%20(1%2C%200) 
    
    ROUTINE:
            miRadar(x,d)
    PURPOSE:
            Crear los puntos en el radar de búsqueda.       
    
    ARGUMENTS:
            x (tuple): Punto central del radar.
            d (float): Radio del radar de búsqueda.
    
    RETURN VALUE:
            Una lista con los puntos en el radar.
    
    EXAMPLE:
            puntosRadar = radar((0,0),1)
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="argumento-x0">
<h3>4. Argumento <code class="docutils literal notranslate"><span class="pre">x0</span></code><a class="headerlink" href="#argumento-x0" title="Permalink to this headline">¶</a></h3>
<p>El argumento <code class="docutils literal notranslate"><span class="pre">x0</span></code> hace referencia al punto factible en el que se inicia la búsqueda. Este argumento es un tupla de Python, es decir para declararlo debemos poner las coordenadas del punto entre paréntesis. En este caso, tomemos como punto inicial el punto <span class="math notranslate nohighlight">\((9000,6000)\)</span> que sabemos que es un punto factible.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x0</span><span class="o">=</span><span class="p">(</span><span class="mi">9000</span><span class="p">,</span><span class="mi">6000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="argumento-d">
<h3>5. Argumento <code class="docutils literal notranslate"><span class="pre">d</span></code><a class="headerlink" href="#argumento-d" title="Permalink to this headline">¶</a></h3>
<p>Finalmente, el argumento <code class="docutils literal notranslate"><span class="pre">d</span></code>, de tipo <code class="docutils literal notranslate"><span class="pre">float</span></code>, hace referencia al radio de búsqueda, es decir, la distancia a los puntos que evalúa la exploración en cada iteración. Para este ejemplo tomemos <code class="docutils literal notranslate"><span class="pre">d=500</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d0</span><span class="o">=</span><span class="mi">500</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="llamar-la-funcion">
<h3>6. Llamar la función<a class="headerlink" href="#llamar-la-funcion" title="Permalink to this headline">¶</a></h3>
<p>Ya teniendo claros todos los argumentos de la función <code class="docutils literal notranslate"><span class="pre">busquedaLocal()</span></code>, debemos únicamente llamarla, con los argumentos que acabamos de crear, para correr el procedimiento de búsqueda local para nuestro problema. En la siguiente celda de código se corre la función <code class="docutils literal notranslate"><span class="pre">busquedaLocal()</span></code> que retorna el valor de las variables de decisión del mejor punto que encontró. Este valor lo guardamos en la variable <code class="docutils literal notranslate"><span class="pre">xStar</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xStar</span><span class="o">=</span><span class="n">busquedaLocal</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">restricciones</span><span class="p">,</span><span class="n">miRadar</span><span class="p">,</span><span class="n">x0</span><span class="p">,</span><span class="n">d0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Ahora para ver el valor de las variables de decisión a los que llega nuestro procedimiento, podemos usar la función <code class="docutils literal notranslate"><span class="pre">print()</span></code> de Python.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;El valor de las variables de decisión es </span><span class="si">{</span><span class="n">xStar</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>El valor de las variables de decisión es (1989.5923599143498, 3525.126265847085)
</pre></div>
</div>
</div>
</div>
<p>Para ver el costo que tiene esta solución, es decir el valor en la función objetivo, podemos usar la función <code class="docutils literal notranslate"><span class="pre">f()</span></code> que declaramos, pasándole como argumento las componentes de <code class="docutils literal notranslate"><span class="pre">xStar</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x1Star</span><span class="p">,</span><span class="n">x2Star</span><span class="o">=</span><span class="n">xStar</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;El costo total de esta solución es de $</span><span class="si">{</span><span class="n">f</span><span class="p">(</span><span class="n">x1Star</span><span class="p">,</span><span class="n">x2Star</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>El costo total de esta solución es de $92668.74118599328
</pre></div>
</div>
</div>
</div>
<p>Si quisiéramos verificar que el punto que obtuvimos cumple con todas nuestras restricciones, podemos usar también las funciones booleanas que declaramos para hacer esta verificación:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">r</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">restricciones</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;La evaluación de R</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2"> es: </span><span class="si">{</span><span class="n">r</span><span class="p">(</span><span class="n">x1Star</span><span class="p">,</span><span class="n">x2Star</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>La evaluación de R1 es: True
La evaluación de R2 es: True
La evaluación de R3 es: True
La evaluación de R4 es: True
La evaluación de R5 es: True
La evaluación de R6 es: True
La evaluación de R7 es: True
</pre></div>
</div>
</div>
</div>
<p>Como podemos ver, nuestro punto <code class="docutils literal notranslate"><span class="pre">xStar</span></code> cumple con todas las restricciones.</p>
</div>
<div class="section" id="representacion-grafica-del-procedimiento">
<h3>7. Representación gráfica del procedimiento<a class="headerlink" href="#representacion-grafica-del-procedimiento" title="Permalink to this headline">¶</a></h3>
<p>El script <code class="docutils literal notranslate"><span class="pre">BusquedaLocal.py</span></code> que importamos al principio del notebook, también tiene una función que corre el procedimiento de búsqueda local, y además grafica lo que se hizo en cada iteración. Esta función se llama <code class="docutils literal notranslate"><span class="pre">busquedaLocalGrafica()</span></code> y tiene lo mismos argumentos de <code class="docutils literal notranslate"><span class="pre">busquedaLocal()</span></code>, mas el de <code class="docutils literal notranslate"><span class="pre">xlim</span></code> y <code class="docutils literal notranslate"><span class="pre">ylim</span></code>, estos últimos son argumentos para crear la gráfica únicamente, y representan los límites de la misma. Esta función genera dos gráficas: la primera gráfica muestra la región factible del problema, con las curvas de nivel (isóclinas) de la función objetivo, y la trayectoria que sigue el procedimiento de búsqueda local; la segunda gráfica muestra como se comporta el valor de la función objetivo contra las iteraciones del método.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">busquedaLocalGrafica</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">restricciones</span><span class="p">,</span><span class="n">miRadar</span><span class="p">,</span><span class="n">x0</span><span class="p">,</span><span class="n">d0</span><span class="p">,</span><span class="n">xlim</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span><span class="mi">10000</span><span class="p">],</span><span class="n">ylim</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">200</span><span class="p">,</span><span class="mi">7000</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Busqueda Local Solución_46_0.png" src="../_images/Busqueda Local Solución_46_0.png" />
<img alt="../_images/Busqueda Local Solución_46_1.png" src="../_images/Busqueda Local Solución_46_1.png" />
</div>
</div>
</div>
<div class="section" id="modelo-no-lineal">
<h3>8. Modelo no lineal<a class="headerlink" href="#modelo-no-lineal" title="Permalink to this headline">¶</a></h3>
<p>Recuerde que con el método de búsqueda local podemos atacar problemas con restricciones y funciones objetivo no lineales. Consideremos entonces el siguiente modelo de optimización:</p>
<div class="math notranslate nohighlight">
\[
\begin{equation*}
\text{minimizar }  \sin{(x_1^2)}-(x_2-3)^2
\end{equation*}
\]</div>
<p>Sujeto a,</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
\frac{x_1^2}{2}-x_2&amp;\le 2;\\
-x_1++x_2&amp;\le 4.
\end{align*}
\end{split}\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">log</span><span class="p">,</span><span class="n">sin</span><span class="p">,</span><span class="n">cos</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x1</span><span class="p">,</span><span class="n">x2</span><span class="p">:</span> <span class="n">sin</span><span class="p">(</span><span class="n">x1</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">-</span><span class="p">(</span><span class="n">x2</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="c1">#Se define la función Objetivo. No tiene que ser con una lambda function</span>

<span class="n">R1</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x1</span><span class="p">,</span><span class="n">x2</span> <span class="p">:</span> <span class="p">(</span><span class="n">x1</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">-</span><span class="n">x2</span><span class="o">&lt;=</span><span class="mi">2</span>
<span class="n">R2</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x1</span><span class="p">,</span><span class="n">x2</span> <span class="p">:</span> <span class="o">-</span><span class="n">x1</span><span class="o">+</span><span class="n">x2</span><span class="o">&lt;=</span><span class="mi">4</span>
<span class="n">restricciones</span><span class="o">=</span><span class="p">[</span><span class="n">R1</span><span class="p">,</span><span class="n">R2</span><span class="p">]</span>

<span class="n">x0</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">d0</span><span class="o">=</span><span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="o">*</span><span class="n">busquedaLocal</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">restricciones</span><span class="p">,</span><span class="n">miRadar</span><span class="p">,</span><span class="n">x0</span><span class="p">,</span><span class="n">d0</span><span class="p">)))</span>
<span class="n">busquedaLocalGrafica</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">restricciones</span><span class="p">,</span><span class="n">miRadar</span><span class="p">,</span><span class="n">x0</span><span class="p">,</span><span class="n">d0</span><span class="p">,</span><span class="n">xlim</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span><span class="n">ylim</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="mi">11</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-19.314549033193508
</pre></div>
</div>
<img alt="../_images/Busqueda Local Solución_50_1.png" src="../_images/Busqueda Local Solución_50_1.png" />
<img alt="../_images/Busqueda Local Solución_50_2.png" src="../_images/Busqueda Local Solución_50_2.png" />
</div>
</div>
</div>
</div>
<div class="section" id="ejercicio">
<h2>Ejercicio<a class="headerlink" href="#ejercicio" title="Permalink to this headline">¶</a></h2>
<p>Cree su propio radar de búsqueda, que reciba como paráetro un punto <span class="math notranslate nohighlight">\(x \in \mathbb{R}^{2}\)</span> y un radio <span class="math notranslate nohighlight">\(d\)</span> y genere los siguientes puntos:</p>
<p><img alt="miRadar" src="../_images/suRadar1.png" /></p>
<p>En la siguiente celda de código implemente la función <code class="docutils literal notranslate"><span class="pre">suRadar(x,d)</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Implemente su función de radar</span>
<span class="k">def</span> <span class="nf">suRadar</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">d</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;    </span>
<span class="sd">    ROUTINE:</span>
<span class="sd">        SuRadar(x,d)</span>
<span class="sd">    PURPOSE:</span>
<span class="sd">        Crear los puntos en el radar de búsqueda. </span>

<span class="sd">    ARGUMENTS:</span>
<span class="sd">        x (tuple): Punto central del radar.</span>
<span class="sd">        d (float): Radio del radar de búsqueda.</span>
<span class="sd">    RETURN VALUE:</span>
<span class="sd">        Una lista con los puntos en el radar.</span>
<span class="sd">    EXAMPLE:</span>
<span class="sd">        puntosRadar = radar((0,0),1)</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="c1">#Escriba a partir de esta linea su código</span>
    <span class="n">n</span> <span class="o">=</span> <span class="mi">4</span> <span class="c1">#Generaremos 4 puntos para el radar</span>
    <span class="n">angulos</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="o">/</span> <span class="n">n</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">pi</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span> <span class="c1">#Los puntos existen a angulos fijos entre sí</span>
    <span class="n">puntos</span> <span class="o">=</span> <span class="p">[(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">d</span> <span class="o">*</span> <span class="n">cos</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">d</span> <span class="o">*</span> <span class="n">sin</span><span class="p">(</span><span class="n">a</span><span class="p">))</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">angulos</span><span class="p">]</span> <span class="c1">#Los puntos son una proyección en los ejes de la distancia</span>
    <span class="k">return</span> <span class="n">puntos</span>
</pre></div>
</div>
</div>
</div>
<p>Corra la función <code class="docutils literal notranslate"><span class="pre">busquedaLocal()</span></code> con su función <code class="docutils literal notranslate"><span class="pre">suRadar()</span></code> y compare los resultados obtenidos con el radar <code class="docutils literal notranslate"><span class="pre">miRadar()</span></code>.</p>
</div>
<div class="section" id="bono-1">
<h2>Bono 1<a class="headerlink" href="#bono-1" title="Permalink to this headline">¶</a></h2>
<p>Modifique la función <code class="docutils literal notranslate"><span class="pre">suBusquedaLocal_dist()</span></code> para que reduzca el radio del radar cuando no encuentre puntos mejores con el radio actual. Compare los resultados, ¿Mejora el valor de la función objetivo con este cambio?</p>
<p><em>Nota</em>: Note que en este caso deberá cambiar la condición de parada.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">suBusquedaLocal_dist</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">restricciones</span><span class="p">,</span> <span class="n">radar</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">d0</span><span class="p">,</span> <span class="n">umbralD</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Corre un algorítmo sencillo de búsqueda local.	</span>

<span class="sd">    ROUTINE:</span>
<span class="sd">        busquedaLocal(f,restricciones,radar,x0)</span>
<span class="sd">    PURPOSE:</span>
<span class="sd">        Encontrar un punto (x1,x2) que mejore el valor de la función objetivo f,</span>
<span class="sd">        cumpliendo con todas las restricciones.</span>

<span class="sd">    ARGUMENTS:</span>
<span class="sd">        f (function): Función objetivo a minimizar.</span>
<span class="sd">        restricciones (list): Lista de funciones booleanas que evaluan factibilidad del punto x.</span>
<span class="sd">        radar (function): Función que dado un punto central y un radio del radar,</span>
<span class="sd">        retorna los puntos en el radar de búsqueda.</span>
<span class="sd">        x0 (tuple): Punto donde se inicia la búsqueda local.</span>
<span class="sd">        d0 (float): Radio del radar de búsqueda.</span>
<span class="sd">        umbralD (float): Mínima distancia del radar.</span>

<span class="sd">    RETURN VALUE:</span>
<span class="sd">        Punto factible (x1,x2) con mejor función objetivo encontrado.</span>

<span class="sd">    EXAMPLE:</span>
<span class="sd">        xStar = suBusquedaLocal_dist(f,restricciones,radar,x0,d0)</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">xStar</span> <span class="o">=</span> <span class="n">x0</span>                                                    <span class="c1"># Inicializamos la distancia y el mejor punto conocido</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">d0</span>                                                        
    <span class="k">while</span> <span class="n">d</span> <span class="o">&gt;=</span> <span class="n">umbralD</span><span class="p">:</span>                                           <span class="c1"># Mientras la distancia no sea demasiado pequeña, seguimos buscando</span>
        <span class="n">algunFactible</span> <span class="o">=</span> <span class="kc">False</span>                                     <span class="c1"># Suponemos que aún no existen puntos factibles a una distancia d</span>
        <span class="n">nextX</span> <span class="o">=</span> <span class="kc">None</span>                                              <span class="c1"># Inicializamos el siguiente pivote en vacio</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">radar</span><span class="p">(</span><span class="n">xStar</span><span class="p">,</span> <span class="n">d</span><span class="p">):</span>                                 <span class="c1"># Evaluar para cada punto en el radar actual</span>
            <span class="k">if</span> <span class="n">f</span><span class="p">(</span><span class="o">*</span><span class="n">x</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">f</span><span class="p">(</span><span class="o">*</span><span class="n">xStar</span><span class="p">):</span>                                 <span class="c1"># Si el punto mejora la FO y es factible, guardarlo y dejar de buscar sobre este radar</span>
                <span class="n">factible</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">restricciones</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">r</span><span class="p">(</span><span class="o">*</span><span class="n">x</span><span class="p">):</span>
                        <span class="n">factible</span> <span class="o">=</span> <span class="kc">False</span>
                        <span class="k">break</span>
                <span class="k">if</span> <span class="n">factible</span><span class="p">:</span>
                    <span class="n">algunFactible</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="n">nextX</span> <span class="o">=</span> <span class="n">x</span>
                    <span class="k">break</span>
        <span class="k">if</span> <span class="n">algunFactible</span><span class="p">:</span>                                         <span class="c1"># Si algún punto en el radar fue factible</span>
            <span class="n">xStar</span> <span class="o">=</span> <span class="n">suBusquedaLocal_dist</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">restricciones</span><span class="p">,</span>
                                         <span class="n">radar</span><span class="p">,</span> <span class="n">nextX</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">umbralD</span><span class="p">)</span><span class="c1"># Actualizar el mejor punto conocido de forma recursiva sobre el pivote hallado</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">d</span> <span class="o">/=</span> <span class="mi">2</span>                                                <span class="c1"># Si no hubo puntos factibles, buscar en un radio menor</span>
    <span class="k">return</span> <span class="n">xStar</span>                                                  <span class="c1"># Se retorna el mejor punto encontrado</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Use esta celda de código para llamar su modificción a la función.</span>
<span class="n">x1</span><span class="p">,</span> <span class="n">x2</span> <span class="o">=</span> <span class="n">suBusquedaLocal_dist</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">restricciones</span><span class="p">,</span> <span class="n">suRadar</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">d0</span><span class="p">,</span> <span class="mf">0.005</span><span class="p">)</span>
<span class="n">f</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-24.995722414902477
</pre></div>
</div>
</div>
</div>
<p>En efecto, el resultado de buscar y reducir la distancia si no se hallan puntos factibles en el radar es más cercano a un óptimo local y global que al solo buscar a distancias fijas.</p>
</div>
<div class="section" id="bono-2">
<h2>Bono 2<a class="headerlink" href="#bono-2" title="Permalink to this headline">¶</a></h2>
<p>Cree la función <code class="docutils literal notranslate"><span class="pre">suBusquedaLocal_recur()</span></code> con el mismo comportamiento de <code class="docutils literal notranslate"><span class="pre">busquedaLocal()</span></code> de forma que se propague en cada punto del radar recursivamente y halle el mejor punto de la región factible. Compare los resultados, ¿Mejora el valor de la función objetivo con este cambio?</p>
<p><em>Nota</em>: Deberá cambiar la condición de parada de forma que no se repita la recursión indefinidamente.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">suBusquedaLocal_recur</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">restricciones</span><span class="p">,</span> <span class="n">radar</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">d0</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">depth</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Corre un algorítmo sencillo de búsqueda local que reduce el radio de busqueda.</span>

<span class="sd">    ROUTINE:</span>
<span class="sd">        busquedaLocal(f,restricciones,radar,x0)</span>
<span class="sd">    PURPOSE:</span>
<span class="sd">        Encontrar un punto (x1,x2) que mejore el valor de la función objetivo f,</span>
<span class="sd">        cumpliendo con todas las restricciones.</span>

<span class="sd">    ARGUMENTS:</span>
<span class="sd">        f (function): Función objetivo a minimizar.</span>
<span class="sd">        restricciones (list): Lista de funciones booleanas que evaluan factibilidad del punto x.</span>
<span class="sd">        radar (function): Función que dado un punto central y un radio del radar,</span>
<span class="sd">        retorna los puntos en el radar de búsqueda.</span>
<span class="sd">        x0 (tuple): Punto donde se inicia la búsqueda local.</span>
<span class="sd">        d0 (float): Radio del radar de búsqueda.</span>
<span class="sd">        k (integer): Máxima recursión alcanzada.</span>
<span class="sd">        depth (integer): Profundidad del nodo a explorar. Inicialmente 0.</span>

<span class="sd">    RETURN VALUE:</span>
<span class="sd">        Punto factible (x1,x2) con mejor función objetivo encontrado.</span>

<span class="sd">    EXAMPLE:</span>
<span class="sd">        xStar = suBusquedaLocal_recur(f,restricciones,radar,x0,d0)</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">xStar</span> <span class="o">=</span> <span class="n">x0</span>
    <span class="n">fStar</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">x0</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">x0</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">candidatos</span> <span class="o">=</span> <span class="n">radar</span><span class="p">(</span><span class="n">xStar</span><span class="p">,</span> <span class="n">d0</span><span class="p">)</span>
    <span class="n">incumbentes</span> <span class="o">=</span> <span class="p">[</span><span class="n">xStar</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">depth</span> <span class="o">&lt;</span> <span class="n">k</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">candidatos</span><span class="p">:</span>
            <span class="n">factible</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">restricciones</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">r</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
                    <span class="n">factible</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">break</span>
            <span class="k">if</span> <span class="n">factible</span><span class="p">:</span>
                <span class="n">x_incumbente</span> <span class="o">=</span> <span class="n">suBusquedaLocal_recur</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">restricciones</span><span class="p">,</span> <span class="n">radar</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">d0</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">depth</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">incumbentes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x_incumbente</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">incumbentes</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">f</span><span class="p">(</span><span class="n">incumbentes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">incumbentes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="o">&lt;</span> <span class="n">fStar</span><span class="p">:</span>
                <span class="n">xStar</span> <span class="o">=</span> <span class="n">incumbentes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">fStar</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">incumbentes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">incumbentes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
            
    <span class="k">return</span> <span class="n">xStar</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Use esta celda de código para llamar su modificción a la función.</span>
<span class="n">x1</span><span class="p">,</span> <span class="n">x2</span> <span class="o">=</span> <span class="n">suBusquedaLocal_recur</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">restricciones</span><span class="p">,</span> <span class="n">suRadar</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">d0</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="n">f</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-25.0
</pre></div>
</div>
</div>
</div>
<p>En efecto, el resultado de buscar y llamar recursivamente sobre todos los puntos del radar es más cercano a un óptimo local y global que al solo buscar a distancias fijas.</p>
</div>
<div class="section" id="creditos">
<h2>Créditos<a class="headerlink" href="#creditos" title="Permalink to this headline">¶</a></h2>
<p>Equipo Principios de Optimización<br>
Autor: David Corredor y Jorge Huertas<br>
Edición: Alfaima Solano y Alejandro Mantilla<br>
Fecha: 25/06/2020</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "copa-uniandes/optimizacion",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./Soluciones"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="../Enunciados/Busqueda%20Local%20Enunciado.html" title="previous page">Búsqueda Local</a>
    <a class='right-next' id="next-link" href="../Guias/MS%20Office/MS%20Office.html" title="next page">Matemáticas en <em>MS Office</em></a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Equipo Principios de Optimización<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>